\documentclass{article}
\usepackage{qstest, bitvector}
\IncludeTests{*}
\begin{document}
  \LogTests{lgout}{*}{*}
  \begin{qstest}{create bitvector}{\createbitvector}
   \createbitvector\hoge{2}
   \Expect*{\hoge}{00}
   \createbitvector\hoge{8}
   \Expect*{\hoge}{{{00}{00}}{{00}{00}}}
   \createbitvector\hoge{3}
   \Expect*{\hoge}{{00}{00}}
  \end{qstest}
  \begin{qstest}{set value}{\setbitvector}
   \def\hoge{{01}{10}}
   \setbitvector\hoge{2}{0}
   \Expect*{\hoge}{{00}{10}}
  \end{qstest}
  \begin{qstest}{get value}{\getbitvector}
   \def\hoge{{01}{10}}
   \tracingmacros=1
   \getbitvector\hoge{0}\fuga
   \Expect*{\fuga}{0}
   \getbitvector\hoge{1}\fuga
   \Expect*{\fuga}{1}
   \setbox0\hbox{\getbitvector\hoge{0}\fuga}
   \Expect*{\the\wd0}{0.0pt}
  \end{qstest}
  \LogClose{lgout}
\end{document}
